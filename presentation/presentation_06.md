---
# Front matter
lang: ru-RU
title: Защита лабораторной работы №6. Мандатное разграничение прав в Linux 
author: "Бурдина Ксения Павловна"
group: NFIbd-01-19
institute: RUDN University, Moscow, Russian Federation
date: 2022 Oct 11th

# Formatting
toc: false
slide_level: 2
header-includes: 
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
aspectratio: 43
section-titles: true
theme: metropolis

---

# Результат выполнения лабораторной работы №6

# Цель выполнения лабораторной работы 

## Цель выполнения лабораторной работы

Развитие навыков администрирования ОС Linux, получение практического знакомства с технологией SELinux, а также проверка работы SELinux на практике совместно с веб-сервером Apache.

# Результат выполнения лабораторной работы

## Результат выполнения лабораторной работы

Настройка каталога httpd для работы: проверка наличия необходимых файлов, настройка фильтров:

![Подготовка к работе](screens/1.jpg){width=90%}

## Результат выполнения лабораторной работы

Проверка, что SELinux работает в режиме enforcing политики targeted:

![Вызов команд getenforce и sestatus](screens/2.jpg){width=90%}

## Результат выполнения лабораторной работы

Проверка работы веб-сервера:

![Обращение к веб-серверу](screens/3.jpg){width=80%}

## Результат выполнения лабораторной работы

Нахождение веб-сервера Apache в списке процессов:

![Нахождение Apache в списке процессоров](screens/4.jpg){width=85%}

## Результат выполнения лабораторной работы

Просмотр текущего состояния переключателей SELinux для Apache:

![Состояние переключателей SELinux](screens/5.jpg){width=75%}

## Результат выполнения лабораторной работы

Посмотр статистики по политике с помощью команды seinfo:

![Статистика по политике](screens/7.jpg){width=75%}

## Результат выполнения лабораторной работы

Определение типа файлов и поддиректорий, находящихся в директории /var/www:

![Просмотр директории /var/www](screens/8.jpg)

## Результат выполнения лабораторной работы

Создание файла test.html:

![Создание файла test.html](screens/10.jpg)

![Листинг файла](screens/13.jpg){width=90%}

## Результат выполнения лабораторной работы

Проверка контекста созданного файла:

![Чтение содержимого файла](screens/14.jpg){width=90%}

Просмотр контекста, присваиваемого по умолчанию вновь созданным файлам в директории /var/www/html:

![Контекст созаваемых файлов](screens/15.jpg){width=90%}

## Результат выполнения лабораторной работы

Обращение к файлу через веб-браузер по адресу http://127.0.0.1/test.html:

![Открытие файла через браузер](screens/16.jpg){width=90%}

## Результат выполнения лабораторной работы

Изменение контекста файла test.html с httpd_sys_content_t на samba_share_t, проверка правильность изменения контекста:

![Изменение контекста файла](screens/18.jpg)

## Результат выполнения лабораторной работы

Попытка получения доступа к измененному файлу через веб-сервер:

![Сообщение об ошибке доступа](screens/19.jpg){width=90%}

## Результат выполнения лабораторной работы

Просмотр log-файлов веб-сервера Apache и системного log-файла:

![](screens/21.jpg){width=70%}
![](screens/22.jpg){width=70%}

## Результат выполнения лабораторной работы

Запуск веб-сервера Apache на прослушивание ТСР-порта:

![Открытие файла на редактирование](screens/23.jpg)

При перезапуске сервера после смены строки с прослушиванием, он не будет работать, поскольку сервер настроен на обределенную частоту прослушки и не сможет быть подключен с другими параметрами.

## Результат выполнения лабораторной работы

Анализ log-файлов:

![Анализ log-файлов](screens/24.jpg)

## Результат выполнения лабораторной работы

Проверка списка команд, вводимых портом:

![Команда semanage port](screens/25.jpg)

## Результат выполнения лабораторной работы

Возвращение контекста httpd_sys_cоntent__t к файлу test.html:

![Возвращение контекста](screens/26.jpg){width=90%}

Удаление привязки http_port_t к 81 порту и удаление файла test.html:

![Удаление привязки к порту 81](screens/27.jpg){width=90%}

![Удаление файла test.html](screens/28.jpg){width=75%}

# Выводы

## Выводы

1. Развили навыки администрирования ОС Linux;

2. Получили практическое знакомство с технологией SELinux;

3. Проверили работу SELinux на практике совместно с веб-сервером Apache.
